{"version":3,"sources":["redux/loader/loaderReducer.js","redux/loader/types.js","redux/auth/authReducer.js","redux/auth/types.js","utils/sortPolls.js","redux/polls/pollsReducer.js","redux/polls/types.js","redux/questions/questionsReducer.js","redux/questions/types.js","redux/answers/answersReducer.js","redux/answers/types.js","redux/store.js","redux/loader/loaderActions.js","redux/loader/operations.js","utils/withLoader.js","utils/api/urls.js","utils/api/sockets.js","utils/api/authorization.js","utils/error-handler/handler.js","utils/api/index.js","redux/auth/authActions.js","components/Home/index.js","pages/Home/index.js","components/LinkButton.js","components/TogglePublicCheckbox.js","components/PollsList/PollItem.js","components/NoItems.js","components/PollsList/index.js","components/PollsList/PollsList.js","redux/questions/questionsActions.js","redux/answers/answersActions.js","redux/polls/pollsActions.js","utils/withPolls.js","redux/polls/operations.js","pages/MyPolls/index.js","pages/PublicPolls/index.js","utils/helpers.js","utils/withQuestions.js","redux/questions/operations.js","components/ControlledInput.js","components/EditPoll/Answer.js","utils/withAnswers.js","redux/answers/operations.js","components/EditPoll/AnswersList.js","components/EditPoll/Question.js","components/EditPoll/index.js","components/EditPoll/EditPoll.js","pages/EditPoll/index.js","pages/NotFound/index.js","components/Auth/index.js","routes.js","pages/Login/index.js","sockets/events.js","sockets/listeners.js","sockets/index.js","redux/auth/operations.js","utils/withUser.js","layouts/AppLayout/index.js","components/Header/index.js","components/Loader/index.js","layouts/CoreLayout/index.js","layouts/AuthLayout/index.js","App.js","index.js"],"names":["initialState","isLoading","loaderReducer","state","arguments","length","undefined","_ref","type","payload","user","authReducer","Object","objectSpread","sortPolls","poll1","poll2","field","value1","value2","polls","pollsReducer","_ref2","concat","poll","sort","newArr","toConsumableArray","index","findIndex","_id","push","updpatePoll","filter","_ref3","id","questions","questionsReducer","question","updpateQuestion","answers","updpateAnswers","answer","answersReducer","newAnswers","reduce","prev","store","createStore","combineReducers","loader","auth","composeWithDevTools","applyMiddleware","ReduxThunk","logger","setLoading","switchLoader","loading","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","wrap","_context","next","abrupt","stop","this","_x","apply","withLoader","connect","urls","SIGN_IN","SIGN_OUT","AUTH","POLLS_CREATE","POLLS_LIST","POLL_ITEM","POLLS_UPDATE","QUESTION_CREATE","QUESTION_ITEM","ANSWER_CREATE","ANSWER_ITEM","url","window","location","hostname","port","io","ioClient","getAuthToken","localStorage","getItem","setAuthToken","token","setItem","getTokenHeaderObject","authToken","Authorization","handleError","error","Alert","message","makeRequest","data","headers","result","axios","method","sent","t0","_x2","_x3","_x4","get","_len","args","Array","_key","post","_len2","_key2","remove","_len4","_key4","patch","_len5","_key5","setUser","Home","history","unsetUser","objectWithoutProperties","react_default","createElement","HomePage","props","components_Home","LinkButton","to","children","label","buttonProps","Link","style","color","reactstrap_es","defaultProps","Button","TogglePublicCheckbox","onPublicityToggle","name","className","getCheckboxId","checked","isPublic","onChange","inline","getTimeAgo","date","moment","duration","Date","humanize","getHumanizeDuration","PollItem","userId","onRemove","canEditPoll","createdBy","xs","body","title","createdAt","components_LinkButton","outline","onClick","components_TogglePublicCheckbox","NoItems","noItemsText","PollsList","updatePoll","_this","createPoll","_callee2","_this$props","_context2","getPolls","_this2","_this$props2","showPrivate","removePoll","pollsToShow","_ref4","map","PollsList_PollItem","key","components_NoItems","position","bottom","right","React","Component","createQuestion","updateQuestion","removeQuestion","createAnswer","updateAnswer","updateAnswers","removeAnswer","withPolls","APIAddresses","actions","EDIT_POLL","replace","partToUpdate","_ref5","_callee3","_ref6","_context3","_ref7","_callee4","_context4","getPollToEdit","_ref8","_callee5","_ref9","_context5","questionActions","answerActions","_x5","components_PollsList","assign","findOneByField","collectionItems","fieldToSearch","value","find","item","withQuestion","pollId","ControlledInput","onChangeDebounced","_","debounce","delay","target","setState","placeholder","Answer","onUpdate","for","sm","components_ControlledInput","close","withAnswers","questionId","AnswersList","onChangeAnswer","answerId","defineProperty","EditPoll_Answer","withQuestions","onChangeQuestion","showResult","EditPoll_AnswersList","EditPoll","getPollId","match","params","getCurrentPoll","onChangePoll","row","EditPoll_Question","disabled","R","components_EditPoll","NotFoundPage","Login","checkUser","HOME_URL","onGoogleResponse","google_login","clientId","config","GOOGLE_CLIENT_ID","buttonText","onSuccess","googleResponse","onFailure","PRIVATE_ROUTES","path","component","exact","MyPolls","PublicPolls","PUBLIC_ROUTES","Auth","NotFound","socketEvents","POLL_UNPUBLIC","POLL_ON_PUBLIC","POLL_UPDATE","POLL_REMOVE","onPublicPoll","removeListener","on","console","log","_ref10","_callee6","_context6","_x6","pollOnPublic","unPublicPoll","_ref11","_callee7","_context7","_x7","pollUnPublic","_ref13","_callee9","_context9","_x9","_ref12","_callee8","_context8","_x8","pollUpdate","initSockets","emit","callback","withUser","access_token","accessToken","getUser","onLogout","AppLayout","propTypes","element","isRequired","menuItems","Header","isOpen","toggle","light","expand","navbar","NavLink","activeClassName","nav","inNavbar","caret","fullName","email","divider","react_loader_spinner_default","height","width","CoreLayout","react","components_Header","react_s_alert_default","stack","limit","timeout","components_Loader","AuthLayout","App","layouts_CoreLayout","Switch","Route","ReactDOM","render","es","BrowserRouter","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.39a03572.chunk.js","sourcesContent":["import { SET_LOADING } from './types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n};\r\n\r\nconst loaderReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SET_LOADING:\r\n      return { isLoading: payload.isLoading };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default loaderReducer;\r\n","export const SET_LOADING = 'SET_LOADING';\r\n","import { SIGN_OUT, SIGN_IN } from './types';\r\n\r\nconst initialState = {\r\n  user: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case SIGN_IN:\r\n      return { ...state, user: payload.user };\r\n    case SIGN_OUT:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';","export const sortPolls = (poll1, poll2, field = 'createdAt') => {\r\n  const value1 = poll1[field];\r\n  const value2 = poll2[field];\r\n\r\n  if (value1 < value2) return 1;\r\n  if (value1 > value2) return -1;\r\n\r\n  return 0;\r\n};\r\n","import { GET_POLLS, CREATE_POLLS, UPDATE_POLLS, REMOVE_POLLS } from './types';\r\nimport { sortPolls } from 'utils/sortPolls';\r\n\r\nconst initialState = {\r\n  polls: [],\r\n};\r\n\r\nconst updpatePoll = (polls, poll) => {\r\n  const newArr = [...polls];\r\n  const index = newArr.findIndex(({ _id }) => _id === poll._id);\r\n\r\n  if (index < 0) {\r\n    newArr.push(poll);\r\n    return newArr;\r\n  }\r\n\r\n  newArr[index] = poll;\r\n  return newArr;\r\n};\r\n\r\n\r\nconst pollsReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case GET_POLLS:\r\n      return { ...state, polls: payload.polls };\r\n    case CREATE_POLLS:\r\n      return { ...state, polls: state.polls.concat([payload.poll]).sort(sortPolls) };\r\n    case UPDATE_POLLS:\r\n      return {\r\n        ...state,\r\n        polls: updpatePoll(state.polls, payload.poll),\r\n      };\r\n    case REMOVE_POLLS:\r\n      return {\r\n        ...state,\r\n        polls: state.polls.filter(({ _id }) => _id !== payload.id),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default pollsReducer;\r\n","export const GET_POLLS = 'GET_POLLS';\r\nexport const GET_POLL = 'GET_POLL';\r\nexport const CREATE_POLLS = 'CREATE_POLLS';\r\nexport const UPDATE_POLLS = 'UPDATE_POLLS';\r\nexport const REMOVE_POLLS = 'REMOVE_POLLS';\r\n","import { CREATE_QUESTION, UPDATE_QUESTION, REMOVE_QUESTION } from './types';\r\n\r\n\r\nconst initialState = {\r\n  questions: [],\r\n};\r\n\r\nconst updpateQuestion = (questions, question) => {\r\n  const newArr = [...questions];\r\n  const index = newArr.findIndex(({ _id }) => _id === question._id);\r\n\r\n  if (index < 0) {\r\n    newArr.push(question);\r\n    return newArr;\r\n  }\r\n\r\n  newArr[index] = question;\r\n  return newArr;\r\n};\r\n\r\n\r\nconst questionsReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case CREATE_QUESTION:\r\n      return { ...state, questions: state.questions.concat([payload.question]) };\r\n    case UPDATE_QUESTION:\r\n      return {\r\n        ...state,\r\n        questions: updpateQuestion(state.questions, payload.question),\r\n      };\r\n    case REMOVE_QUESTION:\r\n      return {\r\n        ...state,\r\n        questions: state.questions.filter(({ _id }) => _id !== payload.id),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default questionsReducer;\r\n","export const CREATE_QUESTION = 'CREATE_QUESTION';\r\nexport const UPDATE_QUESTION = 'UPDATE_QUESTION';\r\nexport const REMOVE_QUESTION = 'REMOVE_QUESTION';\r\n","import {\r\n  CREATE_ANSWER, REMOVE_ANSWER, UPDATE_ANSWER,\r\n  UPDATE_ANSWERS,\r\n} from './types';\r\n\r\n\r\nconst initialState = {\r\n  answers: [],\r\n};\r\n\r\nconst updpateAnswers = (answers, answer) => {\r\n  const newArr = [...answers];\r\n  const index = newArr.findIndex(({ _id }) => _id === answer._id);\r\n\r\n  if (index < 0) {\r\n    newArr.push(answer);\r\n    return newArr;\r\n  }\r\n\r\n  newArr[index] = answer;\r\n  return newArr;\r\n};\r\n\r\nconst updateManyAnswers = (answers, newAnswers) =>\r\n  newAnswers.reduce((prev, answer) => updpateAnswers(prev, answer), answers);\r\n\r\n\r\n\r\nconst answersReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case CREATE_ANSWER:\r\n      return { ...state, answers: state.answers.concat([payload.answer]) };\r\n    case UPDATE_ANSWER:\r\n      return {\r\n        ...state,\r\n        answers: updpateAnswers(state.answers, payload.answer),\r\n      };\r\n    case UPDATE_ANSWERS:\r\n      return {\r\n        ...state,\r\n        answers: updateManyAnswers(state.answers, payload.answers),\r\n      };\r\n    case REMOVE_ANSWER:\r\n      return {\r\n        ...state,\r\n        answers: state.answers.filter(({ _id }) => _id !== payload.id),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default answersReducer;\r\n","export const CREATE_ANSWER = 'CREATE_ANSWER';\r\nexport const UPDATE_ANSWER = 'UPDATE_ANSWER';\r\nexport const UPDATE_ANSWERS = 'UPDATE_ANSWERS';\r\nexport const REMOVE_ANSWER = 'REMOVE_ANSWER';\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport ReduxThunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport loaderReducer from './loader/loaderReducer';\r\nimport authReducer from './auth/authReducer';\r\nimport pollsReducer from './polls/pollsReducer';\r\nimport questionsReducer from './questions/questionsReducer';\r\nimport answersReducer from './answers/answersReducer';\r\n\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    loader: loaderReducer,\r\n    auth: authReducer,\r\n    polls: pollsReducer,\r\n    questions: questionsReducer,\r\n    answers: answersReducer,\r\n  }),\r\n  composeWithDevTools(applyMiddleware(ReduxThunk, logger)),\r\n);\r\n\r\nexport default store;\r\n","import { SET_LOADING } from './types';\r\n\r\nexport const setLoading = isLoading => ({\r\n  type: SET_LOADING,\r\n  payload: {\r\n    isLoading,\r\n  },\r\n});\r\n\r\nexport default setLoading;\r\n\r\n","import { setLoading } from './loaderActions';\r\n\r\n/**\r\n *\r\n * @param { boolean } loading Value to torn on/off loader\r\n */\r\nexport const switchLoader = loading => async dispatch =>\r\n  dispatch(setLoading(loading));\r\n","import { connect } from 'react-redux';\r\nimport { switchLoader } from 'redux/loader/operations';\r\n\r\nconst withLoader = connect(\r\n  null,\r\n  { switchLoader }\r\n);\r\n\r\nexport default withLoader;\r\n","const versionPart = '/api/v1';\r\n\r\nexport default {\r\n  SIGN_IN: `${versionPart}/auth/sign-in`,\r\n  SIGN_OUT: `${versionPart}/auth/sign-out`,\r\n  AUTH: `${versionPart}/auth/user`,\r\n  POLLS_CREATE: `${versionPart}/polls/create`,\r\n  POLLS_LIST: `${versionPart}/polls/list`,\r\n  POLL_ITEM: `${versionPart}/polls`,\r\n  POLLS_UPDATE: `${versionPart}/polls`,\r\n\r\n  QUESTION_CREATE: `${versionPart}/questions/create`,\r\n  QUESTION_ITEM: `${versionPart}/questions`,\r\n\r\n  ANSWER_CREATE: `${versionPart}/answers/create`,\r\n  ANSWER_ITEM: `${versionPart}/answers`,\r\n};\r\n","import ioClient from 'socket.io-client';\r\n\r\nconst url =\r\n  process.env.NODE_ENV === 'production'\r\n    ? `${window.location.hostname}:${window.location.port}`\r\n    : `${window.location.hostname}:3001`;\r\n\r\nconst io = ioClient(url);\r\nexport { io };\r\n","export const getAuthToken = () => window.localStorage.getItem('token');\r\n\r\nexport const setAuthToken = token => window.localStorage.setItem('token', token);\r\n\r\nexport const unsetAuthToken = () => setAuthToken('');\r\n\r\n// eslint-disable-next-line\r\nexport const getTokenHeaderObject = token => {\r\n  const authToken = token || getAuthToken();\r\n\r\n  return {\r\n    Authorization: `Bearer ${authToken}`,\r\n  };\r\n};\r\n","import Alert from 'react-s-alert';\r\n\r\nconst handleError = error => {\r\n  Alert.error(error.message || error.error);\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport { handleError };\r\n","import axios from 'axios';\r\nimport APIAddresses from './urls';\r\nimport { io } from './sockets';\r\nimport { getTokenHeaderObject } from './authorization';\r\nimport { switchLoader } from 'redux/loader/operations';\r\nimport { handleError } from 'utils/error-handler';\r\n\r\nconst { NODE_ENV } = process.env;\r\nconst rootUrl = NODE_ENV === 'production' ? '' : 'http://localhost:3001';\r\n\r\nconst makeRequest = async (type, url, data, dispatch) => {\r\n  try {\r\n    switchLoader(true)(dispatch);\r\n    const headers = getTokenHeaderObject();\r\n\r\n    const result = await axios({\r\n      url: `${rootUrl}${url}`,\r\n      data,\r\n      method: type,\r\n      headers,\r\n    });\r\n\r\n    switchLoader(false)(dispatch);\r\n    return result;\r\n  } catch (error) {\r\n    handleError(error);\r\n    switchLoader(false)(dispatch);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\n// Requests to server\r\n\r\nconst get = (url, ...args) => makeRequest('get', url, null, ...args);\r\nconst post = (url, ...args) => makeRequest('post', url, ...args);\r\nconst put = (url, ...args) => makeRequest('put', url, ...args);\r\nconst remove = (url, ...args) => makeRequest('delete', url, ...args);\r\nconst patch = (url, ...args) => makeRequest('patch', url, ...args);\r\n\r\nexport { APIAddresses, get, post, put, remove, patch, io };\r\n","import { SIGN_IN, SIGN_OUT } from './types';\r\n\r\nexport const setUser = user => ({\r\n  type: SIGN_IN,\r\n  payload: { user },\r\n});\r\nexport const unsetUser = user => ({\r\n  type: SIGN_OUT,\r\n  payload: { user },\r\n});\r\n\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\n\r\n\r\n\r\n\r\nconst Home = ({ history, user, unsetUser, setLoading, ...rest }) => (\r\n    <div>\r\n            Home\r\n    </div>\r\n  );\r\n\r\nexport default Home;","import React from 'react';\r\nimport Home from 'components/Home';\r\n\r\n\r\nconst HomePage = props => <Home {...props} />;\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'reactstrap';\r\n\r\n\r\nconst LinkButton = ({ to, children, label, ...buttonProps }) => (\r\n  <Link to={to} style={{ color: '#fff' }}>\r\n    {children && (\r\n      <Button\r\n        {...buttonProps}\r\n      >\r\n        {children}\r\n      </Button>\r\n    )}\r\n\r\n    {!children && <Button {...buttonProps}>{label}</Button>}\r\n  </Link>\r\n);\r\n\r\n\r\nLinkButton.defaultProps = {\r\n  to: '/',\r\n  ...Button.defaultProps,\r\n};\r\n\r\n\r\nLinkButton.propTypes = {\r\n  to: PropTypes.string,\r\n  ...Button.propTypes,\r\n};\r\n\r\n\r\nexport default LinkButton;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { CustomInput } from 'reactstrap';\r\n\r\nconst getCheckboxId = poll => `checkbox-${poll._id}`;\r\n\r\nconst TogglePublicCheckbox = ({ poll, onPublicityToggle, name, className }) => (\r\n  <CustomInput\r\n    type=\"checkbox\"\r\n    className={className}\r\n    id={getCheckboxId(poll)}\r\n    name={name}\r\n    checked={poll.isPublic}\r\n    onChange={onPublicityToggle}\r\n    label=\"Public\"\r\n    inline\r\n  />\r\n);\r\n\r\nTogglePublicCheckbox.propTypes = {\r\n  poll: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default TogglePublicCheckbox;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport {\r\n  Card,\r\n  CardTitle,\r\n  CardText,\r\n  Col,\r\n  FormGroup,\r\n  Button,\r\n} from 'reactstrap';\r\nimport LinkButton from 'components/LinkButton';\r\nimport TogglePublicCheckbox from 'components/TogglePublicCheckbox';\r\n\r\n\r\nconst getHumanizeDuration = date => moment.duration(new Date() - date).\r\n  humanize();\r\n\r\nconst getTimeAgo = date => `${getHumanizeDuration(date)} ago`;\r\n\r\nconst PollItem = ({ poll, onPublicityToggle, userId, onRemove }) => {\r\n  const onPublicityToggleHandler = () => onPublicityToggle(poll, !poll.isPublic);\r\n  const canEditPoll = poll.createdBy === userId;\r\n\r\n  return (\r\n    <Col xs={12} className=\"m-b-20\">\r\n      <Card body>\r\n        <CardTitle>{poll.title || 'No title'}</CardTitle>\r\n        <CardText>{getTimeAgo(moment(poll.createdAt))}</CardText>\r\n        <FormGroup>\r\n\r\n          {(canEditPoll || poll.isPublic) && (\r\n            <LinkButton\r\n              outline\r\n              to={`vote/${poll._id}`}\r\n              label=\"Open\"\r\n            />\r\n          )}\r\n\r\n          {canEditPoll && (\r\n            <LinkButton\r\n              outline\r\n              className='m-1'\r\n              to={`edit-poll/${poll._id}`}\r\n              label=\"Edit\"\r\n            />\r\n          )}\r\n\r\n          {canEditPoll && (\r\n            <Button outline color=\"danger\"  onClick={onRemove}>\r\n              Remove\r\n            </Button>\r\n          )}\r\n\r\n          {canEditPoll && (\r\n            <TogglePublicCheckbox\r\n              poll={poll}\r\n              onPublicityToggle={onPublicityToggleHandler}\r\n              className=\"m-4\"\r\n            />\r\n          )}\r\n        </FormGroup>\r\n      </Card>\r\n    </Col>\r\n  );\r\n};\r\n\r\nPollItem.defaultProps = {\r\n  onPublicityToggle: () => true,\r\n};\r\n\r\nPollItem.propTypes = {\r\n  poll: PropTypes.object.isRequired,\r\n\r\n  onPublicityToggle: PropTypes.func,\r\n};\r\n\r\nexport default PollItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst NoItems = ({ noItemsText }) => (\r\n  <h3 className=\"col\">{noItemsText}</h3>\r\n);\r\n\r\nNoItems.propTypes = {\r\n  noItemsText: PropTypes.string,\r\n};\r\n\r\nNoItems.defaultProps = {\r\n  noItemsText: 'No items',\r\n};\r\n\r\nexport default NoItems;\r\n","import PollsList from './PollsList';\r\n\r\nexport default PollsList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Container, Row, Button } from 'reactstrap';\r\n\r\nimport PollItem from './PollItem';\r\nimport NoItems from 'components/NoItems';\r\n\r\n\r\nclass MyPolls extends React.Component {\r\n  componentDidMount(){\r\n    const { getPolls } = this.props;\r\n    getPolls();\r\n  }\r\n\r\n  onPublicityToggle = async (poll, isPublic) => {\r\n    const { updatePoll } = this.props;\r\n    updatePoll(poll._id,  { isPublic });\r\n  }\r\n\r\n   createPoll = async () => {\r\n    const { createPoll, history } = this.props;\r\n    createPoll(history);\r\n  }\r\n\r\n  render() {\r\n    const { polls, showPrivate, user, removePoll } = this.props;\r\n\r\n    const pollsToShow = showPrivate\r\n      ? polls.filter(({ createdBy }) => createdBy === user._id)\r\n      : polls.filter(({ isPublic }) => !!isPublic);\r\n\r\n    return (\r\n      <Container>\r\n        <Row>\r\n          {pollsToShow && pollsToShow.length > 0\r\n            ? pollsToShow.map(poll => (\r\n              <PollItem\r\n                key={poll._id}\r\n                poll={poll}\r\n                onPublicityToggle={this.onPublicityToggle}\r\n                userId={user._id}\r\n                onRemove={() => removePoll(poll._id)}\r\n              />\r\n            ))\r\n            : <NoItems />}\r\n        </Row>\r\n\r\n        <Button\r\n          onClick={this.createPoll}\r\n          style={{ position: 'fixed', bottom: '20px', right: '20px' }}\r\n        >\r\n          ADD\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nMyPolls.propTypes = {\r\n  polls: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default MyPolls;\r\n","import { CREATE_QUESTION, UPDATE_QUESTION, REMOVE_QUESTION } from './types';\r\n\r\n\r\nexport const createQuestion = question => ({\r\n  type: CREATE_QUESTION,\r\n  payload: { question },\r\n});\r\n\r\nexport const updateQuestion = question => ({\r\n  type: UPDATE_QUESTION,\r\n  payload: { question },\r\n});\r\n\r\nexport const removeQuestion = id => ({\r\n  type: REMOVE_QUESTION,\r\n  payload: { id },\r\n});\r\n","import { CREATE_ANSWER, REMOVE_ANSWER, UPDATE_ANSWER, UPDATE_ANSWERS } from './types';\r\n\r\n\r\nexport const createAnswer = answer => ({\r\n  type: CREATE_ANSWER,\r\n  payload: { answer },\r\n});\r\n\r\nexport const updateAnswer = answer => ({\r\n  type: UPDATE_ANSWER,\r\n  payload: { answer },\r\n});\r\n\r\nexport const updateAnswers = answers => ({\r\n  type: UPDATE_ANSWERS,\r\n  payload: { answers },\r\n});\r\n\r\nexport const removeAnswer = id => ({\r\n  type: REMOVE_ANSWER,\r\n  payload: { id },\r\n});\r\n","import { GET_POLLS, CREATE_POLLS, UPDATE_POLLS, REMOVE_POLLS } from './types';\r\n\r\nexport const getPolls = polls => ({\r\n  type: GET_POLLS,\r\n  payload: { polls },\r\n});\r\n\r\nexport const createPoll = poll => ({\r\n  type: CREATE_POLLS,\r\n  payload: { poll },\r\n});\r\n\r\nexport const updatePoll = poll => ({\r\n  type: UPDATE_POLLS,\r\n  payload: { poll },\r\n});\r\n\r\nexport const removePoll = id => ({\r\n  type: REMOVE_POLLS,\r\n  payload: { id },\r\n});\r\n","import { connect } from 'react-redux';\r\nimport { createPoll, updatePoll, removePoll, getPolls, getPollToEdit } from 'redux/polls/operations';\r\n\r\nconst withPolls = connect(\r\n  ({ polls }) => ({ polls: polls.polls }),\r\n  { createPoll, updatePoll, removePoll, getPolls, getPollToEdit  }\r\n);\r\n\r\nexport default withPolls;\r\n","import {\r\n  get, post, patch, remove, APIAddresses,\r\n} from 'utils/api';\r\nimport * as questionActions from 'redux/questions/questionsActions';\r\nimport * as answerActions from 'redux/answers/answersActions';\r\nimport { EDIT_POLL } from 'routes';\r\nimport * as actions from './pollsActions';\r\n\r\nexport const getPolls = () => async (dispatch) => {\r\n  const { data: { polls } } = await get(APIAddresses.POLLS_LIST, dispatch);\r\n\r\n  dispatch(actions.getPolls(polls));\r\n};\r\n\r\nexport const createPoll = history => async (dispatch) => {\r\n  const { data: { poll } } = await post(APIAddresses.POLLS_CREATE, {},\r\n    dispatch);\r\n\r\n  dispatch(actions.createPoll(poll));\r\n  history.push(EDIT_POLL.replace(/:id/, poll._id));\r\n};\r\n\r\nexport const updatePoll = (id, partToUpdate) => async (dispatch) => {\r\n  const { data } = await patch(\r\n    `${APIAddresses.POLLS_UPDATE}/${id}`,\r\n    partToUpdate,\r\n    dispatch,\r\n  );\r\n\r\n  dispatch(actions.updatePoll(data.poll));\r\n};\r\n\r\nexport const removePoll = id => async (dispatch) => {\r\n  await remove(`${APIAddresses.POLL_ITEM}/${id}`, {}, dispatch);\r\n  dispatch(actions.removePoll(id));\r\n};\r\n\r\nexport const getPollToEdit = id => async (dispatch) => {\r\n  const { data } = await get(`${APIAddresses.POLL_ITEM}/${id}`, dispatch);\r\n  const { poll, question, answers } = data;\r\n\r\n  dispatch(actions.updatePoll(poll));\r\n  question && dispatch(questionActions.updateQuestion(question));\r\n  answers && dispatch(answerActions.updateAnswers(answers));\r\n};\r\n\r\n// Socket operations\r\nexport const pollOnPublic = poll => async dispatch => dispatch(actions.createPoll(poll));\r\n\r\nexport const pollUnPublic = poll => async dispatch => dispatch(actions.removePoll(poll._id));\r\n\r\nexport const pollUpdate = poll => async dispatch => dispatch(actions.updatePoll(poll));\r\n\r\nexport const pollRemove = id => async dispatch => dispatch(actions.removePoll(id));\r\n","import React from 'react';\r\nimport PollsList from 'components/PollsList';\r\nimport withPolls from 'utils/withPolls';\r\n\r\n\r\nconst MyPollsPage = props => <PollsList {...props} showPrivate />;\r\n\r\nexport default withPolls(MyPollsPage);\r\n","import React from 'react';\r\nimport PollsList from 'components/PollsList';\r\nimport withPolls from 'utils/withPolls';\r\n\r\nconst PublicPollsPage = props => <PollsList {...props} />;\r\n\r\nexport default withPolls(PublicPollsPage);\r\n","export const findOneByField = (collectionItems, fieldToSearch, value) =>\r\n  collectionItems.find(item => item[fieldToSearch] === value);\r\n\r\nexport const findAllByField = (collectionItems, fieldToSearch, value) =>\r\n  collectionItems.filter(item => item[fieldToSearch] === value);\r\n","import { connect } from 'react-redux';\r\nimport { createQuestion, removeQuestion, updateQuestion } from 'redux/questions/operations';\r\nimport { findOneByField } from 'utils/helpers';\r\n\r\n\r\nconst withQuestion = connect(\r\n  ({ questions }, { pollId }) => ({\r\n    question: findOneByField(questions.questions, 'pollId', pollId),\r\n  }),\r\n  { createQuestion, removeQuestion, updateQuestion }\r\n);\r\n\r\nexport default withQuestion;\r\n","import { get, post, patch, remove, APIAddresses } from 'utils/api';\r\nimport * as actions from \"./questionsActions\";\r\n\r\n\r\nexport const createQuestion = pollId => async dispatch => {\r\n  const { data: { question } } = await post(APIAddresses.QUESTION_CREATE, { pollId }, dispatch);\r\n  dispatch(actions.createQuestion(question));\r\n};\r\n\r\nexport const updateQuestion = (id, partToUpdate) => async dispatch => {\r\n  const { data } = await patch(`${APIAddresses.QUESTION_ITEM}/${id}`, partToUpdate, dispatch);\r\n  dispatch(actions.updateQuestion(data.question));\r\n};\r\n\r\nexport const removeQuestion = id => async dispatch => {\r\n  await remove(`${APIAddresses.QUESTION_ITEM}/${id}`, {}, dispatch);\r\n  dispatch(actions.removeQuestion(id));\r\n};\r\n","import _ from 'lodash';\r\nimport React, { Component } from 'react'; \r\nimport { string, func, number } from 'prop-types';\r\nimport { Input } from 'reactstrap';\r\n\r\nclass ControlledInput extends Component {\r\n  state = {\r\n    value: this.props.value,\r\n  };\r\n\r\n  onChangeDebounced = _.debounce(this.props.onChange, this.props.delay);\r\n\r\n  // componentWillReceiveProps(newProps) {\r\n  //   const { value } = this.state;\r\n  //   if (value !== newProps.value) {\r\n  //     this.setState({ value: newProps.value });\r\n  //   }\r\n  // }\r\n\r\n  onChange = ({ target }) => {\r\n    const { value, name, checked } = target;\r\n\r\n    this.setState({ value });\r\n    this.onChangeDebounced({ target: { value, name, checked } });\r\n  }\r\n\r\n  render() {\r\n    const { type, name, id, placeholder } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <Input\r\n        id={id}\r\n        type={type}\r\n        name={name}\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={this.onChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nControlledInput.propTypes = {\r\n  id: string.isRequired,\r\n  type: string.isRequired,\r\n  name: string.isRequired,\r\n  onChange: func.isRequired,\r\n  placeholder: string.isRequired,\r\n  value: string,\r\n  delay: number,\r\n}\r\n\r\nControlledInput.defaultProps = {\r\n  value: '',\r\n  delay: 400,\r\n}\r\n\r\nexport default ControlledInput;","import React from 'react';\r\nimport { array, func } from 'prop-types';\r\nimport { Col, Row, FormGroup, Label, Button } from 'reactstrap';\r\n\r\nimport ControlledInput from 'components/ControlledInput';\r\n\r\nconst Answer = ({ answer, onRemove, onUpdate }) => (\r\n  <FormGroup>\r\n    <Label for=\"answerTitle\">Answer</Label>\r\n    <Row>\r\n      <Col sm={10}>\r\n        <ControlledInput\r\n          type=\"text\"\r\n          name=\"title\"\r\n          id={answer._id}\r\n          placeholder=\"Answer text\"\r\n          value={answer.title}\r\n          onChange={onUpdate(answer._id)}\r\n        />\r\n      </Col>\r\n      <Button close sm={1} onClick={() => onRemove(answer._id)} />\r\n    </Row>\r\n  </FormGroup>\r\n);\r\n\r\nAnswer.propTypes = {\r\n  answer: array,\r\n  onRemove: func.isRequired,\r\n  onUpdate: func.isRequired,\r\n};\r\n\r\nexport default Answer;\r\n","import { connect } from 'react-redux';\r\nimport { createAnswer, removeAnswer, updateAnswer } from 'redux/answers/operations';\r\nimport { findAllByField } from 'utils/helpers';\r\n\r\n\r\nconst withAnswers = connect(\r\n  ({ answers }, { questionId }) => ({\r\n    answers: findAllByField(answers.answers, 'questionId', questionId),\r\n  }),\r\n  { createAnswer, removeAnswer, updateAnswer }\r\n);\r\n\r\nexport default withAnswers;\r\n","import {\r\n  get, post, patch, remove, APIAddresses,\r\n} from 'utils/api';\r\nimport * as actions from './answersActions';\r\n\r\n\r\nexport const createAnswer = questionId => async (dispatch) => {\r\n  const { data: { answer } } = await post(APIAddresses.ANSWER_CREATE, { questionId }, dispatch);\r\n  dispatch(actions.createAnswer(answer));\r\n};\r\n\r\nexport const updateAnswer = (id, partToUpdate) => async (dispatch) => {\r\n  const { data: { answer } } = await patch(`${APIAddresses.ANSWER_ITEM}/${id}`, partToUpdate, dispatch);\r\n  dispatch(actions.updateAnswer(answer));\r\n};\r\n\r\nexport const removeAnswer = id => async (dispatch) => {\r\n  await remove(`${APIAddresses.ANSWER_ITEM}/${id}`, {}, dispatch);\r\n  dispatch(actions.removeAnswer(id));\r\n};\r\n","import React from 'react';\r\nimport { array, string, func } from 'prop-types';\r\nimport { Button } from 'reactstrap';\r\n\r\nimport Answer from './Answer';\r\nimport withAnswers from 'utils/withAnswers';\r\n\r\nconst AnswersList = (props) => {\r\n  const {\r\n    answers, questionId, createAnswer, removeAnswer, updateAnswer,\r\n  } = props;\r\n\r\n  const onChangeAnswer = answerId => ({ target }) => {\r\n    const { name, value, checked } = target;\r\n    updateAnswer(answerId, { [name]: name === 'showResult' ? checked : value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-3\">\r\n      {\r\n        answers.length\r\n          ? answers.map(answer => (\r\n            <Answer\r\n              key={answer._id}\r\n              answer={answer}\r\n              onRemove={removeAnswer}\r\n              onUpdate={onChangeAnswer}\r\n            />\r\n          ))\r\n          : <h3>No answers</h3>\r\n      }\r\n      <Button onClick={() => createAnswer(questionId)}>Add answer</Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nAnswersList.propTypes = {\r\n  answers: array,\r\n  questionId: string.isRequired,\r\n  createAnswer: func.isRequired,\r\n  removeAnswer: func.isRequired,\r\n  updateAnswer: func.isRequired,\r\n};\r\n\r\nAnswersList.defaultProps = {\r\n  answers: [],\r\n};\r\n\r\nexport default withAnswers(AnswersList);\r\n","import React from 'react';\r\nimport { func, object, string } from 'prop-types';\r\nimport {\r\n  Col,\r\n  Row,\r\n  Button,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  CustomInput,\r\n} from 'reactstrap';\r\n\r\nimport withQuestions from 'utils/withQuestions';\r\nimport Answers from './AnswersList';\r\nimport ControlledInput from 'components/ControlledInput';\r\n\r\nconst Question = (props) => {\r\n  const {\r\n    pollId, question, createQuestion, removeQuestion, updateQuestion,\r\n  } = props;\r\n\r\n  const onChangeQuestion = questionId => ({ target }) => {\r\n    const { name, value, checked } = target;\r\n    updateQuestion(questionId,\r\n      { [name]: name === 'showResult' ? checked : value });\r\n  };\r\n\r\n  return question\r\n    ? (\r\n      <FormGroup>\r\n        <div>\r\n          <FormGroup>\r\n            <Label for=\"questionTitle\">Question</Label>\r\n            <Row>\r\n              <Col sm={11}>\r\n                <ControlledInput\r\n                  id={`${question._id}-title`}\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  placeholder=\"Question text\"\r\n                  onChange={onChangeQuestion(question._id)}\r\n                />\r\n              </Col>\r\n              <Button close sm={1}\r\n                      onClick={() => removeQuestion(question._id)} />\r\n            </Row>\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <CustomInput\r\n              type=\"checkbox\"\r\n              label=\"Show voting results\"\r\n              inline\r\n              id={`${question._id}-publish`}\r\n              name=\"showResult\"\r\n              checked={question.showResult}\r\n              onChange={onChangeQuestion(question._id)}\r\n            />\r\n          </FormGroup>\r\n\r\n          <Answers questionId={question._id} />\r\n        </div>\r\n      </FormGroup>\r\n    ) : (\r\n      <div>\r\n        <h3>No questions</h3>\r\n        <Button onClick={() => createQuestion(pollId)}>Add question</Button>\r\n      </div>\r\n    );\r\n};\r\n\r\nQuestion.propTypes = {\r\n  pollId: string,\r\n  question: object,\r\n  createQuestion: func,\r\n  removeQuestion: func,\r\n  updateQuestion: func,\r\n};\r\n\r\nexport default withQuestions(Question);\r\n","import EditPoll from './EditPoll';\r\n\r\nexport default EditPoll;\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { object, array, func } from 'prop-types';\r\nimport {\r\n  Container,\r\n  Button,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n} from 'reactstrap';\r\n\r\nimport { findOneByField } from 'utils/helpers';\r\nimport TogglePublicCheckbox from 'components/TogglePublicCheckbox';\r\nimport Question from './Question';\r\nimport  ControlledInput from 'components/ControlledInput';\r\n\r\nclass EditPoll extends React.Component {\r\n  componentDidMount() {\r\n    const { getPollToEdit } = this.props;\r\n    const pollId = this.getPollId();\r\n\r\n    getPollToEdit(pollId);\r\n  }\r\n\r\n  getPollId = () => {\r\n    const { match: { params } } = this.props;\r\n    return params.id;\r\n  };\r\n\r\n  getCurrentPoll = () => {\r\n    const { polls } = this.props;\r\n    const pollId = this.getPollId();\r\n    return findOneByField(polls, '_id', pollId);\r\n  };\r\n\r\n  onChangePoll = pollId => ({ target }) => {\r\n    const { updatePoll } = this.props;\r\n    const { name, value, checked } = target;\r\n\r\n    updatePoll(pollId, { [name]: name === 'isPublic' ? checked : value });\r\n  };\r\n\r\n  render() {\r\n    const pollId = this.getPollId();\r\n    const poll = this.getCurrentPoll();\r\n\r\n    return poll ? (\r\n      <Container className=\"mt-5\">\r\n        <Form>\r\n          <FormGroup row>\r\n            <Label for=\"editTitle\">TITLE</Label>\r\n            <ControlledInput\r\n              type=\"text\"\r\n              name=\"title\"\r\n              id={pollId}\r\n              placeholder=\"Poll title\"\r\n              value={poll.title}\r\n              onChange={this.onChangePoll(poll._id)}\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup row>\r\n            <TogglePublicCheckbox\r\n              poll={poll}\r\n              onPublicityToggle={this.onChangePoll(poll._id)}\r\n              name=\"isPublic\"\r\n            />\r\n          </FormGroup>\r\n\r\n          <Question\r\n            pollId={pollId}\r\n          />\r\n        </Form>\r\n\r\n        <Button\r\n          onClick={this.createPoll}\r\n          style={{ position: 'fixed', bottom: '20px', right: '20px' }}\r\n          disabled\r\n        >\r\n          SAVE\r\n        </Button>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nEditPoll.propTypes = {\r\n  polls: array.isRequired,\r\n  updatePoll: func.isRequired,\r\n  getPollToEdit: func.isRequired,\r\n  match: object.isRequired,\r\n};\r\n\r\nexport default EditPoll;\r\n","import React from 'react';\r\nimport * as R from 'ramda';\r\nimport EditPoll from 'components/EditPoll';\r\nimport withPolls from 'utils/withPolls';\r\n\r\n\r\nconst EditPollPage = props => <EditPoll {...props} />;\r\n\r\nexport default R.compose(\r\n  withPolls,\r\n)(EditPollPage);\r\n","import React from 'react';\r\n\r\n\r\nconst NotFoundPage = props => <div>Page Not Found</div>;\r\n\r\nexport default NotFoundPage;","import React, { Component } from 'react';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { handleError } from 'utils/error-handler';\r\nimport { HOME_URL, LOGIN_URL } from 'routes';\r\nimport config from './config.json';\r\n\r\nclass Login extends Component {\r\n  componentDidMount () {\r\n    const { checkUser, history } = this.props;\r\n\r\n    checkUser(() => history.push(HOME_URL));\r\n  }\r\n\r\n  render () {\r\n    const { history, onGoogleResponse } = this.props;\r\n\r\n    return (\r\n      <GoogleLogin\r\n        clientId={config.GOOGLE_CLIENT_ID}\r\n        buttonText=\"Login with Google\"\r\n        onSuccess={googleResponse => onGoogleResponse(googleResponse, history.push)}\r\n        onFailure={handleError}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import Home from 'pages/Home';\r\nimport MyPolls from 'pages/MyPolls';\r\nimport PublicPolls from 'pages/PublicPolls';\r\nimport EditPoll from 'pages/EditPoll';\r\nimport NotFound from 'pages/NotFound';\r\nimport Login from 'pages/Login';\r\n\r\nexport const LOGIN_URL = '/login';\r\nexport const HOME_URL = '/';\r\nexport const MY_POLLS = '/my-polls';\r\nexport const EDIT_POLL = '/edit-poll/:id';\r\nexport const PUBLIC_POLLS = '/public-polls';\r\nexport const NOT_FOUND = '/not-found';\r\n\r\nexport const PRIVATE_ROUTES = [\r\n  {\r\n    title: 'Home',\r\n    path: HOME_URL,\r\n    component: Home,\r\n    exact: true,\r\n  },\r\n  {\r\n    title: 'My Polls',\r\n    path: MY_POLLS,\r\n    component: MyPolls,\r\n  },\r\n  {\r\n    title: 'Public Polls',\r\n    path: PUBLIC_POLLS,\r\n    component: PublicPolls,\r\n  },\r\n  {\r\n    title: 'Public Polls',\r\n    path: EDIT_POLL,\r\n    component: EditPoll,\r\n  },\r\n];\r\n\r\nexport const PUBLIC_ROUTES = [\r\n  {\r\n    title: 'Login',\r\n    path: LOGIN_URL,\r\n    component: Login,\r\n    exact: true,\r\n  },\r\n  {\r\n    title: 'Not Found',\r\n    path: '*',\r\n    component: NotFound,\r\n  },\r\n];\r\n","import React from 'react';\r\nimport Auth from 'components/Auth';\r\n\r\nconst LoginPage = props => <Auth {...props} />;\r\n\r\nexport default LoginPage;\r\n","const socketEvents = {\r\n  POLL_UNPUBLIC: 'poll-unpublic',\r\n  POLL_ON_PUBLIC: 'poll-on-public',\r\n  POLL_UPDATE: 'poll-update',\r\n  POLL_REMOVE: 'poll-remove',\r\n};\r\n\r\nexport default socketEvents;\r\n","import { pollRemove, pollOnPublic, pollUnPublic, pollUpdate } from 'redux/polls/operations';\r\nimport { io } from 'utils/api';\r\nimport socketEvents from './events';\r\n\r\nconst { POLL_ON_PUBLIC, POLL_REMOVE, POLL_UNPUBLIC, POLL_UPDATE } = socketEvents;\r\n\r\nconst onPublicPoll = dispatch => {\r\n  io.removeListener(POLL_ON_PUBLIC); // should remove prev listener before add new\r\n  io.on(POLL_ON_PUBLIC, ({ poll }) => {\r\n    console.log('public');\r\n    return pollOnPublic(poll)(dispatch);\r\n  });\r\n};\r\n\r\nconst unPublicPoll = dispatch => {\r\n  io.removeListener(POLL_UNPUBLIC);\r\n  io.on(POLL_UNPUBLIC, ({ poll }) => {\r\n    console.log('unpublic');\r\n    return pollUnPublic(poll)(dispatch);\r\n  });\r\n};\r\n\r\nconst removePoll = dispatch => {\r\n  io.removeListener(POLL_REMOVE);\r\n  io.on(POLL_REMOVE, ({ poll }) => {\r\n    console.log('remove');\r\n    return pollRemove(poll._id)(dispatch);\r\n  });\r\n};\r\n\r\nconst updatePoll = dispatch => {\r\n  io.removeListener(POLL_UPDATE);\r\n  io.on(POLL_UPDATE, ({ poll }) => {\r\n    console.log('upddate');\r\n    return pollUpdate(poll)(dispatch);\r\n  });\r\n};\r\n\r\nexport { onPublicPoll, unPublicPoll, removePoll, updatePoll };\r\n","import { removePoll, updatePoll, onPublicPoll, unPublicPoll } from './listeners';\r\nimport { io } from 'utils/api';\r\n\r\nconst initSockets = (token, dispatch) => {\r\n  io.emit('authenticate', { token });\r\n  removePoll(dispatch);\r\n  updatePoll(dispatch);\r\n  onPublicPoll(dispatch);\r\n  unPublicPoll(dispatch);\r\n};\r\n\r\nexport default initSockets;\r\n","import { get, post, APIAddresses } from 'utils/api';\r\nimport * as actions from './authActions';\r\nimport { HOME_URL, LOGIN_URL } from 'routes';\r\nimport { getAuthToken, setAuthToken, unsetAuthToken } from 'utils/api/authorization';\r\nimport initSockets from 'sockets';\r\n\r\n\r\nexport const checkUser = callback => async dispatch => {\r\n  const token = getAuthToken();\r\n\r\n  try {\r\n    if (token) {\r\n      const { data } = await get(APIAddresses.AUTH, dispatch);\r\n      const { user } = data;\r\n\r\n      dispatch(actions.setUser(user));\r\n      initSockets(token, dispatch);\r\n\r\n      if (typeof callback === 'function') {\r\n        callback();\r\n      }\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUser = push => async dispatch => {\r\n  const token = getAuthToken();\r\n\r\n  try {\r\n    return token ? checkUser()(dispatch) : push(LOGIN_URL);\r\n  } catch (error) {\r\n    push(LOGIN_URL);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const onGoogleResponse = (googleResponse, push) => async dispatch => {\r\n  try {\r\n    const { data } = await post(\r\n      APIAddresses.SIGN_IN,\r\n      { access_token: googleResponse.accessToken },\r\n      dispatch\r\n    );\r\n    const { user, token } = data;\r\n\r\n    setAuthToken(token);\r\n    dispatch(actions.setUser(user));\r\n    initSockets(token, dispatch);\r\n\r\n    return push(HOME_URL);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const onLogout = () => async dispatch => {\r\n  try {\r\n    await post(APIAddresses.SIGN_OUT, {}, dispatch);\r\n\r\n    unsetAuthToken();\r\n    dispatch(actions.unsetUser());\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import { connect } from 'react-redux';\r\nimport { onGoogleResponse, getUser, onLogout, checkUser } from 'redux/auth/operations';\r\n\r\nconst withUser = connect(\r\n  ({ auth }) => ({ user: auth.user }),\r\n  { onGoogleResponse, getUser, onLogout, checkUser }\r\n);\r\n\r\nexport default withUser;\r\n","import React from 'react';\r\nimport * as R from 'ramda';\r\nimport { element } from 'prop-types';\r\n\r\nimport withLoader from 'utils/withLoader';\r\nimport withUser from 'utils/withUser';\r\n\r\n\r\nconst AppLayout = R.compose(\r\n  withLoader,\r\n  withUser\r\n);\r\n\r\nAppLayout.propTypes = {\r\n  Component: element.isRequired,\r\n};\r\n\r\nexport default AppLayout;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _ from 'lodash';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport { Container, Row, Navbar, Collapse, Col, NavbarToggler, Nav, NavItem, Button,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  NavbarBrand } from 'reactstrap';\r\nimport AppLayout from 'layouts/AppLayout';\r\n\r\n\r\nconst menuItems = [\r\n    {\r\n        url: '/my-polls',\r\n        title: 'MY POLLS',\r\n    },\r\n  {\r\n    url: '/public-polls',\r\n    title: 'PUBLIC POLLS',\r\n  },\r\n];\r\n\r\nclass Header extends Component {\r\n  state = { isOpen: false };\r\n\r\n  toggle = () => this.setState({ isOpen: !this.state.isOpen })\r\n\r\n  render() {\r\n   const { user, onLogout } = this.props;\r\n   const { isOpen } = this.state;\r\n\r\n  return (\r\n    <div>\r\n     <Navbar color=\"light\" light expand=\"md\">\r\n          <Link to='/'>\r\n              VoteApp\r\n            </Link>\r\n          <NavbarToggler onClick={this.toggle} />\r\n          <Collapse isOpen={isOpen} navbar>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              {user && menuItems.map((item, index) => (\r\n                <NavItem key={index}>\r\n                  <NavLink\r\n                  activeClassName=\"active\"\r\n                  className=\"nav-link ml-2 ml-lg-1 fz-18 fw-500\"\r\n                  exact\r\n                  to={item.url}\r\n                  >\r\n                  {item.title}\r\n              </NavLink>\r\n              </NavItem>))}\r\n              {user && <UncontrolledDropdown nav inNavbar>\r\n        <DropdownToggle nav caret>\r\n          {user.fullName}\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          <DropdownItem>\r\n            {user.email}\r\n          </DropdownItem>\r\n          <DropdownItem divider />\r\n          <DropdownItem onClick={onLogout}>\r\n            Logout\r\n          </DropdownItem>\r\n        </DropdownMenu>\r\n      </UncontrolledDropdown>}\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\nHeader.propTypes = {\r\n  user: PropTypes.object,\r\n};\r\n\r\nHeader.defaultProps = {\r\n  user: null,\r\n};\r\n\r\n\r\nexport default AppLayout(Header);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Loader from 'react-loader-spinner';\r\nimport './Loader.scss';\r\n\r\nexport const LoaderWrapper = ({ isLoading }) => isLoading ? (\r\n    <div className=\"react-loader\">\r\n      <div>\r\n        <div>\r\n          <Loader type=\"TailSpin\" color=\"#0099ca\" height={50} width={50} />\r\n        </div>\r\n      </div>\r\n    </div> ) : null;\r\n\r\nexport default connect(({ loader }) => ({ isLoading: loader.isLoading }))(LoaderWrapper);\r\n\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as R from 'ramda';\r\nimport { element } from 'prop-types';\r\nimport Alert from 'react-s-alert';\r\n\r\nimport Header from 'components/Header';\r\nimport Loader from 'components/Loader';\r\n\r\nimport 'react-s-alert/dist/s-alert-default.css';\r\nimport 'react-s-alert/dist/s-alert-css-effects/genie.css';\r\n\r\n\r\nconst ALERTS_LIMIT = 3;\r\nconst TIMEOUT = 3000;\r\n\r\nexport const CoreLayout = ({ children }) => (\r\n  <div className=\"app-container\">\r\n    <Fragment>\r\n      <Header />\r\n      {children}\r\n    </Fragment>\r\n        \r\n    <Alert stack={{ limit: ALERTS_LIMIT }} timeout={TIMEOUT} position=\"bottom\" />\r\n    <Loader  />\r\n  </div>\r\n);\r\n  \r\nCoreLayout.propTypes = {\r\n  children:     PropTypes.node,\r\n};\r\n  \r\nexport default CoreLayout;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppLayout from 'layouts/AppLayout';\r\n\r\n\r\nconst AuthLayout = Component => {\r\n  const wrapper = props => {\r\n    const { history, user, getUser } = props;\r\n\r\n    // If token exist try to get user or redirect to login page\r\n    if (!user) {\r\n      getUser(history.push);\r\n    }\r\n\r\n    return user ? <Component {...props} /> : null;\r\n  };\r\n\r\n  return AppLayout(wrapper);\r\n};\r\n\r\nAuthLayout.propTypes = {\r\n  user: PropTypes.object,\r\n};\r\n\r\nAuthLayout.defaultProps = {\r\n  user: null,\r\n};\r\n\r\nexport default AuthLayout;\r\n\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport AppLayout from 'layouts/AppLayout';\r\nimport CoreLayout from 'layouts/CoreLayout';\r\nimport AuthLayout from 'layouts/AuthLayout';\r\n\r\nimport { PRIVATE_ROUTES, PUBLIC_ROUTES } from 'routes';\r\n\r\nimport './App.scss';\r\n\r\n\r\nconst App = props => (\r\n  <CoreLayout {...props}>\r\n    <Switch>\r\n      {PRIVATE_ROUTES.map(({ exact, path, component }, index) => (\r\n        <Route  key={index} exact={exact} path={path} component={AuthLayout(component)} />\r\n      ))}\r\n\r\n      {PUBLIC_ROUTES.map(({ exact, path, component }, index) => (\r\n        <Route  key={index} exact={exact} path={path} component={AppLayout(component)} />\r\n      ))}\r\n    </Switch>\r\n  </CoreLayout>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport store from 'redux/store';\r\nimport App from './App';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}